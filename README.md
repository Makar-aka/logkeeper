# LogKeeper

**LogKeeper** — это веб-приложение для сбора логов устройств.

---

## Возможности
- Сбор логов через UDP (порт по умолчанию: `1514`).
- Управление пользователями (администраторы и обычные пользователи).
- Настройка роутеров (добавление, обновление, удаление).
- Просмотр статистики логов и устройств.
- Поддержка запуска в Docker с использованием Docker Compose.

---

## Установка и запуск

### 1. Локальный запуск
1. Убедитесь, что у вас установлен Python 3.12 или выше.
2. Установите зависимости:

pip install -r requirements.txt

3. Запустите приложение: 

python logkeeper.py

Приложение будет доступно по адресу: [http://localhost:5000](http://localhost:5000).

---

### 2. Запуск в Docker
1. Убедитесь, что у вас установлен Docker и Docker Compose.
2. Создайте файл `.env` в корне проекта:
```
WEB_PORT=5000 
LOGS_DB_PATH=data/logs.db 
USERS_DB_PATH=data/users.db 
ROUTERS_DB_PATH=data/routers.db 
ROUTER_MODELS_FILE=router_models.json
```
3. Запустите контейнеры:
docker-compose up --build

4. Приложение будет доступно по адресу: [http://localhost:5000](http://localhost:5000).

---

## Структура проекта
```
project/ 
		 ├── data/                # Папка для хранения баз данных (монтируется в контейнер) 
		 ├── templates/           # HTML-шаблоны 
		 ├── static/              # Статические файлы (CSS, JS) 
		 ├── .env                 # Переменные окружения 
		 ├── docker-compose.yml   # Конфигурация Docker Compose 
		 ├── Dockerfile           # Конфигурация Docker 
		 ├── logkeeper.py         # Основной файл приложения 
		 ├── db.py                # Работа с базами данных 
		 ├── requirements.txt     # Зависимости Python 
		 └── router_models.json   # Модели роутеров
```

---

## Использование
### 1. Сбор логов
- Логи отправляются на порт `1514` (UDP) хост-машины.
- Пример отправки тестового лога:
```
echo "Test log" | nc -u 127.0.0.1 1514
```

### 2. Управление пользователями
- Администратор может добавлять, удалять пользователей и изменять их пароли.

### 3. Настройка роутеров
- Добавление, обновление и удаление настроек роутеров через веб-интерфейс.

### 4. Просмотр статистики
- Доступна информация о количестве логов, уникальных устройствах и активности за последние 24 часа.

---

## Примечания
- Убедитесь, что папка `data` существует и доступна для записи, так как в ней хранятся базы данных.

---

## Контакты
Автор: [MakarSPB](https://github.com/Makar-aka)